<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div id='app'>
        <!-- <input type="button" value="button" @click="get_json"> -->
        {{ joke }}
    </div>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
    <script>
        var app = new Vue({
            el: "#app",
            data: {
                joke: '123'
            },
            methods: {
                get_json: function(){
                    // axios.get("http://127.0.0.1:5000/").then(fun1, fun2);
                    // axios.get("https://autumnfish.cn/api/joke/list?num=1").then(this.fun1, this.fun2);
                    axios.get("http://localhost:5000/login/info").then(this.fun1).catch(this.fun2);
                },
                fun1: function(response) {
                    this.joke = response.data;
                },
                fun2: function(response) {
                    alert('error');
                },
            },
            mounted() {
                this.timer = setInterval(this.get_json, 100);
            },
            beforeDestroy() {
            clearInterval(this.timer);
            }

        })
        // alert('123')
        // axios.get("http://127.0.0.1:5000/").then(fun1, fun2);

    </script>
</body>
</html>