<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../layui/css/layui.css">
</head>

<body style="background-color: #F2F2F2;">
    <div class="layui-row">
        <div class="layui-col-md12">
            <ul class="layui-nav" lay-filter="" style="background-color: #24292E;">
                <li class="layui-nav-item"><a href="">最新活动</a></li>
                <li class="layui-nav-item layui-this"><a href="">产品</a></li>
                <li class="layui-nav-item"><a href="">大数据</a></li>
                <li class="layui-nav-item">
                    <a href="javascript:;">解决方案</a>
                    <dl class="layui-nav-child">
                        <!-- 二级菜单 -->
                        <dd><a href="">移动模块</a></dd>
                        <dd><a href="">后台模版</a></dd>
                        <dd><a href="">电商平台</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item"><a href="">社区</a></li>
            </ul>
        </div>
    </div>
    <div class="layui-row">
        <div class="layui-col-md2">
            <ul class="layui-nav layui-nav-tree" lay-filter="test"  style="padding-top: 10px;">
                <!-- 侧边导航: <ul class="layui-nav layui-nav-tree layui-nav-side"> -->
                <li class="layui-nav-item"><a href="">排队</a></li>
                <li class="layui-nav-item layui-nav-itemed">
                    <a href="javascript:;">默认展开</a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;">选项1</a></dd>
                        <dd><a href="javascript:;">选项2</a></dd>
                        <dd><a href="">跳转</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">解决方案</a>
                    <dl class="layui-nav-child">
                        <dd><a href="">移动模块</a></dd>
                        <dd><a href="">后台模版</a></dd>
                        <dd><a href="">电商平台</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item"><a href="">产品</a></li>
                <li class="layui-nav-item"><a href="">大数据</a></li>
            </ul>
        </div>
        <div class="layui-col-md10" style="padding-top: 15px; padding-right: 50px; padding-bottom: 10px;">
            <div class="layui-row layui-col-space30">
                <div class="layui-col-md6">
                    <div class="layui-card">
                        <div class="layui-card-header">综合</div>
                        <div class="layui-card-body">
                            <div id="main" style="height:300px;"></div>
                        </div>
                    </div>
                </div>
                <div class="layui-col-md6">
                    <div class="layui-card">
                        <div class="layui-card-header">限速队列</div>
                        <div class="layui-card-body">
                            <div id="queue_speed_limit" style="height:300px;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="layui-row layui-col-space15">
                <div class="layui-col-md4">
                    <div class="layui-card">
                        <div class="layui-card-header">高优先级</div>
                        <div class="layui-card-body">
                            <div id="queue_priority_high" style="height:250px;"></div>
                        </div>
                    </div>
                </div>
                <div class="layui-col-md4">
                    <div class="layui-card">
                        <div class="layui-card-header">中优先级</div>
                        <div class="layui-card-body">
                            <div id="queue_priority_mid" style="height:250px;"></div>
                        </div>
                    </div>
                </div>
                <div class="layui-col-md4">
                    <div class="layui-card">
                        <div class="layui-card-header">低优先级</div>
                        <div class="layui-card-body">
                            <div id="queue_priority_low" style="height:250px;"></div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
    <script src="../layui/layui.js"></script>
    <script src="https://cdn.bootcss.com/echarts/4.6.0/echarts.min.js"></script>


    <script>
        var app = new Vue({
            el: "#app",
            data: {
                joke: '123'
            },
            methods: {
                get_json: function () {
                    // axios.get("http://127.0.0.1:5000/").then(fun1, fun2);
                    // axios.get("https://autumnfish.cn/api/joke/list?num=1").then(this.fun1, this.fun2);
                    axios.get("http://localhost:5000/login/info").then(this.fun1).catch(this.fun2);
                },
                fun1: function (response) {
                    this.joke = response.data;
                },
                fun2: function (response) {
                    alert('error');
                },
            },
            mounted() {
                this.timer = setInterval(this.get_json, 1000);
            },
            beforeDestroy() {
                clearInterval(this.timer);
            }

        })
        // alert('123')
        // axios.get("http://127.0.0.1:5000/").then(fun1, fun2);

        layui.use('element', function () {
            var element = layui.element;

            //…
        });

    </script>

    <script src="../script/login_info.js">
    </script>
</body>

</html>